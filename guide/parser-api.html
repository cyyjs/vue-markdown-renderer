<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Parser — API Deep Dive | markstream-vue</title>
    <meta name="description" content="Streaming-friendly Markdown renderer for Vue 3 — progressive Mermaid, streaming diff code blocks">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/vue-markdown-render/assets/style.BPM5hrIp.css" as="style">
    <link rel="preload stylesheet" href="/vue-markdown-render/vp-icons.css" as="style">
    
    <script type="module" src="/vue-markdown-render/assets/app.W51Y6pDS.js"></script>
    <link rel="preload" href="/vue-markdown-render/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vue-markdown-render/assets/chunks/theme.ufwxrOyU.js">
    <link rel="modulepreload" href="/vue-markdown-render/assets/chunks/framework.C0wiDQbp.js">
    <link rel="modulepreload" href="/vue-markdown-render/assets/guide_parser-api.md.B4nSRGDH.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bcefa7f7><!--[--><!--]--><!--[--><span tabindex="-1" data-v-3cc5f761></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-3cc5f761>Skip to content</a><!--]--><!----><header class="VPNav" data-v-bcefa7f7 data-v-bfac0e4f><div class="VPNavBar" data-v-bfac0e4f data-v-b6f19a4d><div class="wrapper" data-v-b6f19a4d><div class="container" data-v-b6f19a4d><div class="title" data-v-b6f19a4d><div class="VPNavBarTitle has-sidebar" data-v-b6f19a4d data-v-1dcc8ec7><a class="title" href="/vue-markdown-render/" data-v-1dcc8ec7><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vue-markdown-render/logo.svg" alt data-v-3052d5e8><!--]--><span data-v-1dcc8ec7>markstream-vue</span><!--[--><!--]--></a></div></div><div class="content" data-v-b6f19a4d><div class="content-body" data-v-b6f19a4d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-b6f19a4d><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b6f19a4d data-v-58ac46a2><span id="main-nav-aria-label" class="visually-hidden" data-v-58ac46a2> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-markdown-render/guide/quick-start.html" tabindex="0" data-v-58ac46a2 data-v-26cc7d7e><!--[--><span data-v-26cc7d7e>Get started</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-markdown-render/guide/examples.html" tabindex="0" data-v-58ac46a2 data-v-26cc7d7e><!--[--><span data-v-26cc7d7e>Examples</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-markdown-render/guide/components.html" tabindex="0" data-v-58ac46a2 data-v-26cc7d7e><!--[--><span data-v-26cc7d7e>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://markstream-vue.simonhe.me/" target="_blank" rel="noreferrer" tabindex="0" data-v-58ac46a2 data-v-26cc7d7e><!--[--><span data-v-26cc7d7e>Playground</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-markdown-render/guide/search.html" tabindex="0" data-v-58ac46a2 data-v-26cc7d7e><!--[--><span data-v-26cc7d7e>Search</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/Simon-He95/markstream-vue" target="_blank" rel="noreferrer" tabindex="0" data-v-58ac46a2 data-v-26cc7d7e><!--[--><span data-v-26cc7d7e>GitHub</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-58ac46a2 data-v-018e00c2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-018e00c2><span class="text" data-v-018e00c2><!----><span data-v-018e00c2>Languages</span><span class="vpi-chevron-down text-icon" data-v-018e00c2></span></span></button><div class="menu" data-v-018e00c2><div class="VPMenu" data-v-018e00c2 data-v-40699016><div class="items" data-v-40699016><!--[--><!--[--><div class="VPMenuLink" data-v-40699016 data-v-28965fbb><a class="VPLink link" href="/vue-markdown-render/guide/" data-v-28965fbb><!--[--><span data-v-28965fbb>English</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-40699016 data-v-28965fbb><a class="VPLink link" href="/vue-markdown-render/zh/guide/" data-v-28965fbb><!--[--><span data-v-28965fbb>简体中文</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b6f19a4d data-v-6046828b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6046828b data-v-1588bd57 data-v-ad9028d0><span class="check" data-v-ad9028d0><span class="icon" data-v-ad9028d0><!--[--><span class="vpi-sun sun" data-v-1588bd57></span><span class="vpi-moon moon" data-v-1588bd57></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-b6f19a4d data-v-c12c2949 data-v-018e00c2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-018e00c2><span class="vpi-more-horizontal icon" data-v-018e00c2></span></button><div class="menu" data-v-018e00c2><div class="VPMenu" data-v-018e00c2 data-v-40699016><!----><!--[--><!--[--><!----><div class="group" data-v-c12c2949><div class="item appearance" data-v-c12c2949><p class="label" data-v-c12c2949>Appearance</p><div class="appearance-action" data-v-c12c2949><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-c12c2949 data-v-1588bd57 data-v-ad9028d0><span class="check" data-v-ad9028d0><span class="icon" data-v-ad9028d0><!--[--><span class="vpi-sun sun" data-v-1588bd57></span><span class="vpi-moon moon" data-v-1588bd57></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b6f19a4d data-v-8f059ae2><span class="container" data-v-8f059ae2><span class="top" data-v-8f059ae2></span><span class="middle" data-v-8f059ae2></span><span class="bottom" data-v-8f059ae2></span></span></button></div></div></div></div><div class="divider" data-v-b6f19a4d><div class="divider-line" data-v-b6f19a4d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-bcefa7f7 data-v-f4e2e5b8><div class="container" data-v-f4e2e5b8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f4e2e5b8><span class="vpi-align-left menu-icon" data-v-f4e2e5b8></span><span class="menu-text" data-v-f4e2e5b8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f4e2e5b8 data-v-f551b274><button data-v-f551b274>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-bcefa7f7 data-v-9df96122><div class="curtain" data-v-9df96122></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-9df96122><span class="visually-hidden" id="sidebar-aria-label" data-v-9df96122> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-93562102><section class="VPSidebarItem level-0 has-active" data-v-93562102 data-v-aef27406><div class="item" role="button" tabindex="0" data-v-aef27406><div class="indicator" data-v-aef27406></div><h2 class="text" data-v-aef27406>User Guide</h2><!----></div><div class="items" data-v-aef27406><!--[--><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/installation.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/quick-start.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/why.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Why use it?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/compared.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Compared</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/usage.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Usage & API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/parser.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Parser & API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/parser-api.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Parser API (deep-dive)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/features.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Features</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/props.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Props & Options</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/codeblock-header.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Code block header</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/examples.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/playground.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Playground</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/docs-style.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Docs assets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/contributing.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Contributing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/translation.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Translation guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/deploy.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Deploy docs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/components.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>API Reference</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/advanced.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Advanced</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/monaco-internals.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Monaco Internals</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/math.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Math</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/mermaid.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Mermaid</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/tailwind.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Tailwind</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/legacy-builds.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Legacy builds & iOS regex compatibility</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/thanks.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Thanks</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-93562102><section class="VPSidebarItem level-0" data-v-93562102 data-v-aef27406><div class="item" role="button" tabindex="0" data-v-aef27406><div class="indicator" data-v-aef27406></div><h2 class="text" data-v-aef27406>Quick links</h2><!----></div><div class="items" data-v-aef27406><!--[--><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/examples.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/components.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>API Reference</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link vp-external-link-icon link" href="https://markstream-vue.simonhe.me/" target="_blank" rel="noreferrer" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Playground</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/troubleshooting.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Troubleshooting</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-93562102><section class="VPSidebarItem level-0" data-v-93562102 data-v-aef27406><!----><div class="items" data-v-aef27406><!--[--><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/nuxt-ssr.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Nuxt SSR</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/performance.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Performance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/monaco.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Monaco</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/guide/troubleshooting.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Troubleshooting</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/zh/nuxt-ssr.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Nuxt SSR</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-93562102><section class="VPSidebarItem level-0" data-v-93562102 data-v-aef27406><div class="item" role="button" tabindex="0" data-v-aef27406><div class="indicator" data-v-aef27406></div><h2 class="text" data-v-aef27406>Investigations</h2><!----></div><div class="items" data-v-aef27406><!--[--><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/e2e-testing-report.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>e2e testing report</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/katex-worker-performance-analysis.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>KaTeX worker performance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-aef27406 data-v-aef27406><div class="item" data-v-aef27406><div class="indicator" data-v-aef27406></div><a class="VPLink link link" href="/vue-markdown-render/monorepo-migration.html" data-v-aef27406><!--[--><p class="text" data-v-aef27406>Monorepo migration</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-bcefa7f7 data-v-5c1191bf><div class="VPDoc has-sidebar has-aside" data-v-5c1191bf data-v-d2340953><!--[--><!--]--><div class="container" data-v-d2340953><div class="aside" data-v-d2340953><div class="aside-curtain" data-v-d2340953></div><div class="aside-container" data-v-d2340953><div class="aside-content" data-v-d2340953><div class="VPDocAside" data-v-d2340953 data-v-6aa75b25><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6aa75b25 data-v-5506de38><div class="content" data-v-5506de38><div class="outline-marker" data-v-5506de38></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-5506de38>On this page</div><ul class="VPDocOutlineItem root" data-v-5506de38 data-v-2848eafa><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6aa75b25></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d2340953><div class="content-container" data-v-d2340953><!--[--><!--]--><main class="main" data-v-d2340953><div style="position:relative;" class="vp-doc _vue-markdown-render_guide_parser-api" data-v-d2340953><div><h1 id="parser-—-api-deep-dive" tabindex="-1">Parser — API Deep Dive <a class="header-anchor" href="#parser-—-api-deep-dive" aria-label="Permalink to &quot;Parser — API Deep Dive&quot;">​</a></h1><p>This page extracts the most important functions, types and helpers from <code>packages/markdown-parser</code> for a focused API reference.</p><h2 id="main-functions" tabindex="-1">Main functions <a class="header-anchor" href="#main-functions" aria-label="Permalink to &quot;Main functions&quot;">​</a></h2><h3 id="getmarkdown-msgid-options" tabindex="-1"><code>getMarkdown(msgId?, options?)</code> <a class="header-anchor" href="#getmarkdown-msgid-options" aria-label="Permalink to &quot;`getMarkdown(msgId?, options?)`&quot;">​</a></h3><p>Create a configured <code>markdown-it-ts</code> instance.</p><p>Parameters:</p><ul><li><code>msgId</code> (string | optional): identifier for this instance</li><li><code>options</code> (GetMarkdownOptions | optional): configuration options</li></ul><p>Options include:</p><ul><li><code>plugin</code>: list of Markdown-it plugins</li><li><code>apply</code>: functions to mutate the <code>MarkdownIt</code> instance</li><li><code>i18n</code>: translator map or function</li></ul><h3 id="parsemarkdowntostructure-content-md-options" tabindex="-1"><code>parseMarkdownToStructure(content, md?, options?)</code> <a class="header-anchor" href="#parsemarkdowntostructure-content-md-options" aria-label="Permalink to &quot;`parseMarkdownToStructure(content, md?, options?)`&quot;">​</a></h3><p>Parse a Markdown string into a streaming-friendly AST used by the renderer.</p><p>Parameters:</p><ul><li><code>content</code> (string): markdown to parse</li><li><code>md</code> (MarkdownItCore, optional): a markdown-it-ts instance — created if not provided</li><li><code>options</code> (ParseOptions, optional): contains transform hooks described below</li></ul><p>Returns: <code>ParsedNode[]</code></p><h3 id="processtokens-tokens" tabindex="-1"><code>processTokens(tokens)</code> <a class="header-anchor" href="#processtokens-tokens" aria-label="Permalink to &quot;`processTokens(tokens)`&quot;">​</a></h3><p>Converts raw markdown-it tokens into a processed token list ready for the AST phase.</p><h3 id="parseinlinetokens-tokens-md" tabindex="-1"><code>parseInlineTokens(tokens, md)</code> <a class="header-anchor" href="#parseinlinetokens-tokens-md" aria-label="Permalink to &quot;`parseInlineTokens(tokens, md)`&quot;">​</a></h3><p>Parse inline tokens into inline nodes usable by the renderer.</p><h2 id="configuration-helpers" tabindex="-1">Configuration &amp; helpers <a class="header-anchor" href="#configuration-helpers" aria-label="Permalink to &quot;Configuration &amp; helpers&quot;">​</a></h2><h3 id="setdefaultmathoptions-options" tabindex="-1"><code>setDefaultMathOptions(options)</code> <a class="header-anchor" href="#setdefaultmathoptions-options" aria-label="Permalink to &quot;`setDefaultMathOptions(options)`&quot;">​</a></h3><p>Set global math rendering options for KaTeX. Example:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setDefaultMathOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  commands: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;infty&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;perp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  escapeExclamation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="heuristics-and-utilities" tabindex="-1">Heuristics and utilities <a class="header-anchor" href="#heuristics-and-utilities" aria-label="Permalink to &quot;Heuristics and utilities&quot;">​</a></h3><ul><li><code>isMathLike(content)</code> — heuristic to detect whether a string looks like math</li><li><code>findMatchingClose(src, startIdx, open, close)</code> — find matching delimiter</li><li><code>parseFenceToken(token)</code> — parse code fence into <code>CodeBlockNode</code></li><li><code>normalizeStandaloneBackslashT(content, options?)</code> — normalize backslash-t sequences in math content</li></ul><h2 id="parse-hooks-advanced" tabindex="-1">Parse hooks (advanced) <a class="header-anchor" href="#parse-hooks-advanced" aria-label="Permalink to &quot;Parse hooks (advanced)&quot;">​</a></h2><p>When calling <code>parseMarkdownToStructure</code> you can pass <code>ParseOptions</code> with these hooks:</p><ul><li><code>preTransformTokens?: (tokens: MarkdownToken[]) =&gt; MarkdownToken[]</code> — operate immediately after the <code>markdown-it</code> parser runs</li><li><code>postTransformTokens?: (tokens: MarkdownToken[]) =&gt; MarkdownToken[]</code> — transform tokens after internal fixes</li><li><code>postTransformNodes?: (nodes: ParsedNode[]) =&gt; ParsedNode[]</code> — operate on the node tree before rendering</li></ul><p>These hooks are also available via <code>parseOptions</code> prop on the <code>MarkdownRender</code> component (applies only when using <code>content</code> instead of <code>nodes</code>).</p><h3 id="parseoptions-requireclosingstrong" tabindex="-1">ParseOptions: <code>requireClosingStrong</code> <a class="header-anchor" href="#parseoptions-requireclosingstrong" aria-label="Permalink to &quot;ParseOptions: `requireClosingStrong`&quot;">​</a></h3><p><code>requireClosingStrong</code> (boolean | optional) controls how the parser treats unmatched <code>**</code> strong delimiters inside inline content. Default: <code>true</code>.</p><ul><li><strong>true</strong>: The parser requires a matching closing <code>**</code> to create a strong node. Unclosed <code>**</code> are left as plain text. This is the recommended, strict mode for non-interactive rendering and avoids incorrect strong parsing inside constructs like link text (for example, <code>[**cxx](xxx)</code>).</li><li><strong>false</strong>: The parser allows mid-state/unfinished <code>**</code> (useful for editor live-preview scenarios), which can produce a temporary strong node even when the closing <code>**</code> is missing.</li></ul><p>Example — strict parsing (default):</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { parseMarkdownToStructure } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;packages/markdown-parser&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseMarkdownToStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[**cxx](xxx)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { requireClosingStrong: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// the text `[**cxx](xxx)` will be preserved without creating a dangling strong node</span></span></code></pre></div><p>Example — editor-friendly parsing:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseMarkdownToStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[**cxx](xxx)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { requireClosingStrong: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// allows creating a temporary/&quot;mid-state&quot; strong node for live-edit previews</span></span></code></pre></div><h2 id="types" tabindex="-1">Types <a class="header-anchor" href="#types" aria-label="Permalink to &quot;Types&quot;">​</a></h2><p>A condensed list of exported types to reference in your code:</p><ul><li><code>CodeBlockNode</code>, <code>GetMarkdownOptions</code>, <code>HeadingNode</code>, <code>ListItemNode</code>, <code>ListNode</code>, <code>MathOptions</code>, <code>ParagraphNode</code>, <code>ParsedNode</code>, <code>ParseOptions</code>, etc.</li></ul><p>Use <code>import type { ParsedNode, CodeBlockNode } from &#39;stream-markdown-parser&#39;</code> in your TypeScript code.</p><h2 id="plugins-defaults" tabindex="-1">Plugins &amp; Defaults <a class="header-anchor" href="#plugins-defaults" aria-label="Permalink to &quot;Plugins &amp; Defaults&quot;">​</a></h2><p>This package includes a set of parsing helpers and convenience plugins for common flows (for example: footnotes, task checkboxes, sub/sup/mark). Note that emoji handling is no longer enabled by default — consumers who want emoji support should register the emoji plugin explicitly.</p><p>You can add custom plugins in several ways:</p><ul><li>Pass plugins to <code>getMarkdown</code> via the <code>plugin</code> option.</li><li>Use <code>apply</code> functions in <code>getMarkdown</code> options to mutate the returned <code>MarkdownIt</code> instance.</li><li>When using the <code>MarkdownRender</code> component, use the <code>customMarkdownIt</code> prop to receive and mutate the <code>MarkdownIt</code> instance used for that renderer.</li></ul><p>Example — enable emoji via the component prop:</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { MarkdownIt } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markdown-it-ts&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { full </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> markdownItEmoji } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markdown-it-emoji&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MarkdownRender </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markstream-vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enableEmoji</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">md</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MarkdownIt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  md.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(markdownItEmoji)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> md</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">MarkdownRender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">custom-markdown-it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">enableEmoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><p>Use the playground to test your parse transforms quickly. For instance, use a <code>preTransformTokens</code> hook to transform custom <code>html_block</code> tokens into a <code>thinking_block</code> type, then register a custom component for the new node type via <code>setCustomComponents</code>.</p><p>For full details and more examples, see <code>packages/markdown-parser/README.md</code> in the repository.</p><h3 id="custom-components-and-tag-like-elements" tabindex="-1">Custom components and tag-like elements <a class="header-anchor" href="#custom-components-and-tag-like-elements" aria-label="Permalink to &quot;Custom components and tag-like elements&quot;">​</a></h3><p>Tag-like custom elements (for example <code>&lt;MyWidget ...&gt;...&lt;/MyWidget&gt;</code>) produce complex <code>html_block</code>/inline token shapes that are often difficult to reconstruct reliably from the parsed AST using simple regex or string splicing. To reduce maintenance cost and avoid brittle post-processing, we recommend extracting those raw component strings before feeding the remaining content to the Markdown parser and rendering the extracted parts separately as Vue components.</p><p>Recommended approach:</p><ul><li>Pre-scan the incoming Markdown content and extract custom-component blocks into a small map keyed by an id (or placeholder).</li><li>Replace the original markup in the Markdown string with a stable placeholder token (for example <code>[[CUSTOM:1]]</code>).</li><li>Let the Markdown parser run on the placeholder-bearing content and then render the AST as usual.</li><li>In your rendering layer, render placeholders by looking up the extracted component string and mounting the corresponding Vue component (or compile it via a lightweight renderer).</li></ul><p>Benefits:</p><ul><li>Avoids brittle AST post-processing for nested/tag-like HTML.</li><li>Keeps the Markdown parsing focused on Markdown semantics.</li><li>Allows you to control hydration and scope for custom components separately.</li></ul><p>Example (simple sketch):</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1) extract custom tags</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> extracted</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contentWithPlaceholders</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> source.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">&lt;MyWidget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[\s\S]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*?</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">MyWidget&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `[[CUSTOM:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}]]`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extracted.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, m)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2) parse the markdown with placeholders</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseMarkdownToStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(contentWithPlaceholders)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3) render: when you encounter a placeholder node, mount your extracted component</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example pseudo-Vue render logic:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// if (node.type === &#39;text&#39; &amp;&amp; extracted.has(node.content)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//   return h(CustomWrapper, { raw: extracted.get(node.content) })</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// }</span></span></code></pre></div><p>Thinking blocks and small inline-rich fragments -- If you only need a lightweight rendering for short &quot;thinking&quot; fragments (for example AI assistant thinking traces), the library&#39;s <code>MarkdownRenderer</code> (used internally by <code>MarkdownRender</code>) supports stream-friendly rendering hooks and is lighter to reuse than reassembling the AST into component trees yourself. Use <code>parseOptions</code> or preTransform hooks to identify thinking regions and render them with the lighter-weight renderer while keeping complex tag-like custom components extracted and rendered separately.</p><p>This hybrid approach minimizes fragile string-manipulation of the Markdown AST while giving you full control over custom component hydration and rendering scope.</p></div></div></main><footer class="VPDocFooter" data-v-d2340953 data-v-585e0a22><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-585e0a22><span class="visually-hidden" id="doc-footer-aria-label" data-v-585e0a22>Pager</span><div class="pager" data-v-585e0a22><a class="VPLink link pager-link prev" href="/vue-markdown-render/guide/parser.html" data-v-585e0a22><!--[--><span class="desc" data-v-585e0a22>Previous page</span><span class="title" data-v-585e0a22>Parser & API</span><!--]--></a></div><div class="pager" data-v-585e0a22><a class="VPLink link pager-link next" href="/vue-markdown-render/guide/features.html" data-v-585e0a22><!--[--><span class="desc" data-v-585e0a22>Next page</span><span class="title" data-v-585e0a22>Features</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"e2e-testing-report.md\":\"30hLznA6\",\"e2e-testing-report.zh-cn.md\":\"bRL6L-Df\",\"guide_advanced.md\":\"CDeuZv8Z\",\"guide_api.md\":\"DvcMizhm\",\"guide_code-block-node.md\":\"uQ_Tjp3X\",\"guide_code-blocks.md\":\"BG6pwtEw\",\"guide_codeblock-header.md\":\"CYA2MT6n\",\"guide_compared.md\":\"B9uEQDOh\",\"guide_components.md\":\"PTSYGS98\",\"guide_contributing.md\":\"B1yd-nVv\",\"guide_deploy.md\":\"6Ps5Wkh-\",\"guide_docs-style.md\":\"Bfl4Lpot\",\"guide_examples.md\":\"D3phd9z_\",\"guide_features.md\":\"Co6pyc7k\",\"guide_image-node.md\":\"J7kaLI4R\",\"guide_index.md\":\"DzWzCyeF\",\"guide_installation.md\":\"BPPdrJBp\",\"guide_legacy-builds.md\":\"IlrXINnb\",\"guide_math.md\":\"CQpcrua_\",\"guide_mermaid-block-node-override.md\":\"BRp548bD\",\"guide_mermaid-block-node.md\":\"x70h-Vsj\",\"guide_mermaid.md\":\"DcuKtVgl\",\"guide_monaco-internals.md\":\"CbqC1-Xz\",\"guide_monaco.md\":\"Civ0Rf_q\",\"guide_parser-api.md\":\"B4nSRGDH\",\"guide_parser.md\":\"B1eQyroJ\",\"guide_performance.md\":\"BG8OrEt7\",\"guide_playground.md\":\"F3rr9y44\",\"guide_props.md\":\"DfE7y79W\",\"guide_quick-start.md\":\"BGl3pN-J\",\"guide_search.md\":\"CC7ncz7x\",\"guide_tailwind.md\":\"ClUN6gyM\",\"guide_thanks.md\":\"CDMWy5Ib\",\"guide_translation.md\":\"Zy6gdK23\",\"guide_troubleshooting.md\":\"CwckiWYs\",\"guide_type-script.md\":\"BqlgWPT6\",\"guide_usage.md\":\"DBcrfdq7\",\"guide_why.md\":\"CAfwa7YP\",\"index.md\":\"BtEttqno\",\"katex-cache-analysis.zh-cn.md\":\"36IgiwUY\",\"katex-worker-performance-analysis.md\":\"auSgejMb\",\"legacy-builds.md\":\"B00MLFqb\",\"monorepo-migration.md\":\"DtunC2WC\",\"nuxt-ssr.md\":\"D2zt3-VF\",\"nuxt-ssr.zh-cn.md\":\"XTSinToW\",\"zh_e2e-testing-report.md\":\"CQ_Eubsq\",\"zh_guide_advanced.md\":\"DyHm9EgJ\",\"zh_guide_api.md\":\"CD-Sxrw2\",\"zh_guide_code-blocks.md\":\"BKRpWIkd\",\"zh_guide_codeblock-header.md\":\"BxYUmKwI\",\"zh_guide_compared.md\":\"CAwEzncV\",\"zh_guide_components.md\":\"DRjaHM_7\",\"zh_guide_contributing.md\":\"BSi_P9RE\",\"zh_guide_deploy.md\":\"BLQYhOB7\",\"zh_guide_docs-style.md\":\"DH0pYykf\",\"zh_guide_e2e-testing-report.md\":\"C4aiBUGu\",\"zh_guide_examples.md\":\"CVpTt4LR\",\"zh_guide_features.md\":\"CxqATDj3\",\"zh_guide_image-node.md\":\"ObVLpi_G\",\"zh_guide_index.md\":\"BmFKA2Bw\",\"zh_guide_installation.md\":\"EKXAzj2c\",\"zh_guide_katex-worker-performance-analysis.md\":\"DAUvtHOC\",\"zh_guide_legacy-builds.md\":\"B0OwTyDD\",\"zh_guide_math.md\":\"CGYAa07c\",\"zh_guide_mermaid-block-node-override.md\":\"DgzpPCkS\",\"zh_guide_mermaid-block-node.md\":\"CEvtdhaf\",\"zh_guide_mermaid.md\":\"BRImaP7T\",\"zh_guide_monaco-internals.md\":\"ca6AFci7\",\"zh_guide_monaco.md\":\"D6pX_SXF\",\"zh_guide_monorepo-migration.md\":\"CGKRkXPV\",\"zh_guide_parser-api.md\":\"BbI6O8MZ\",\"zh_guide_parser.md\":\"DSoWC86z\",\"zh_guide_performance.md\":\"Cdd9mJEr\",\"zh_guide_playground.md\":\"Bul4sK1S\",\"zh_guide_props.md\":\"B3foPbVW\",\"zh_guide_quick-start.md\":\"_iLXbC8F\",\"zh_guide_search.md\":\"Drn0xgtp\",\"zh_guide_tailwind.md\":\"DhZ7SawX\",\"zh_guide_thanks.md\":\"DTqWGfwf\",\"zh_guide_translation.md\":\"DCPl6Jhn\",\"zh_guide_troubleshooting.md\":\"C6DJGEN2\",\"zh_guide_type-script.md\":\"CX9WElJx\",\"zh_guide_usage.md\":\"D5N-TT-t\",\"zh_guide_why.md\":\"CnFhIUXa\",\"zh_index.md\":\"CrPPrelH\",\"zh_katex-worker-performance-analysis.md\":\"DlCjODIQ\",\"zh_monorepo-migration.md\":\"BFYK9UN3\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"markstream-vue\",\"description\":\"Streaming-friendly Markdown renderer for Vue 3 — progressive Mermaid, streaming diff code blocks\",\"base\":\"/vue-markdown-render/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Get started\",\"link\":\"/guide/quick-start\"},{\"text\":\"Examples\",\"link\":\"/guide/examples\"},{\"text\":\"API\",\"link\":\"/guide/components\"},{\"text\":\"Playground\",\"link\":\"https://markstream-vue.simonhe.me/\"},{\"text\":\"Search\",\"link\":\"/guide/search\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/Simon-He95/markstream-vue\"},{\"text\":\"Languages\",\"items\":[{\"text\":\"English\",\"link\":\"/guide/\"},{\"text\":\"简体中文\",\"link\":\"/zh/guide/\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"User Guide\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/\"},{\"text\":\"Installation\",\"link\":\"/guide/installation\"},{\"text\":\"Quick Start\",\"link\":\"/guide/quick-start\"},{\"text\":\"Why use it?\",\"link\":\"/guide/why\"},{\"text\":\"Compared\",\"link\":\"/guide/compared\"},{\"text\":\"Usage & API\",\"link\":\"/guide/usage\"},{\"text\":\"Parser & API\",\"link\":\"/guide/parser\"},{\"text\":\"Parser API (deep-dive)\",\"link\":\"/guide/parser-api\"},{\"text\":\"Features\",\"link\":\"/guide/features\"},{\"text\":\"Props & Options\",\"link\":\"/guide/props\"},{\"text\":\"Code block header\",\"link\":\"/guide/codeblock-header\"},{\"text\":\"Examples\",\"link\":\"/guide/examples\"},{\"text\":\"Playground\",\"link\":\"/guide/playground\"},{\"text\":\"Docs assets\",\"link\":\"/guide/docs-style\"},{\"text\":\"Contributing\",\"link\":\"/guide/contributing\"},{\"text\":\"Translation guide\",\"link\":\"/guide/translation\"},{\"text\":\"Deploy docs\",\"link\":\"/guide/deploy\"},{\"text\":\"API Reference\",\"link\":\"/guide/components\"},{\"text\":\"Advanced\",\"link\":\"/guide/advanced\"},{\"text\":\"Monaco Internals\",\"link\":\"/guide/monaco-internals\"},{\"text\":\"Math\",\"link\":\"/guide/math\"},{\"text\":\"Mermaid\",\"link\":\"/guide/mermaid\"},{\"text\":\"Tailwind\",\"link\":\"/guide/tailwind\"},{\"text\":\"Legacy builds & iOS regex compatibility\",\"link\":\"/guide/legacy-builds\"},{\"text\":\"Thanks\",\"link\":\"/guide/thanks\"}]},{\"text\":\"Quick links\",\"items\":[{\"text\":\"Examples\",\"link\":\"/guide/examples\"},{\"text\":\"API Reference\",\"link\":\"/guide/components\"},{\"text\":\"Playground\",\"link\":\"https://markstream-vue.simonhe.me/\"},{\"text\":\"Troubleshooting\",\"link\":\"/guide/troubleshooting\"}]},{\"text\":\"Nuxt SSR\",\"link\":\"/nuxt-ssr\"},{\"text\":\"Performance\",\"link\":\"/guide/performance\"},{\"text\":\"Monaco\",\"link\":\"/guide/monaco\"},{\"text\":\"Troubleshooting\",\"link\":\"/guide/troubleshooting\"},{\"text\":\"Nuxt SSR\",\"link\":\"/zh/nuxt-ssr\"},{\"text\":\"Investigations\",\"items\":[{\"text\":\"e2e testing report\",\"link\":\"/e2e-testing-report\"},{\"text\":\"KaTeX worker performance\",\"link\":\"/katex-worker-performance-analysis\"},{\"text\":\"Monorepo migration\",\"link\":\"/monorepo-migration\"}]}],\"/zh/guide/\":[{\"text\":\"指南\",\"items\":[{\"text\":\"简介\",\"link\":\"/zh/guide/\"},{\"text\":\"安装\",\"link\":\"/zh/guide/installation\"},{\"text\":\"快速开始\",\"link\":\"/zh/guide/quick-start\"},{\"text\":\"为什么使用？\",\"link\":\"/zh/guide/why\"},{\"text\":\"对比\",\"link\":\"/zh/guide/compared\"},{\"text\":\"使用与 API\",\"link\":\"/zh/guide/usage\"},{\"text\":\"解析器概览\",\"link\":\"/zh/guide/parser\"},{\"text\":\"解析器 API 深入\",\"link\":\"/zh/guide/parser-api\"},{\"text\":\"功能\",\"link\":\"/zh/guide/features\"},{\"text\":\"Props 与 Options\",\"link\":\"/zh/guide/props\"},{\"text\":\"代码块头部\",\"link\":\"/zh/guide/codeblock-header\"},{\"text\":\"示例\",\"link\":\"/zh/guide/examples\"},{\"text\":\"Playground\",\"link\":\"/zh/guide/playground\"},{\"text\":\"Docs 资源\",\"link\":\"/zh/guide/docs-style\"},{\"text\":\"贡献指南\",\"link\":\"/zh/guide/contributing\"},{\"text\":\"翻译指南\",\"link\":\"/zh/guide/translation\"},{\"text\":\"部署文档\",\"link\":\"/zh/guide/deploy\"},{\"text\":\"API 参考\",\"link\":\"/zh/guide/components\"},{\"text\":\"高级\",\"link\":\"/zh/guide/advanced\"},{\"text\":\"Monaco 内部\",\"link\":\"/zh/guide/monaco-internals\"},{\"text\":\"Math\",\"link\":\"/zh/guide/math\"},{\"text\":\"Mermaid\",\"link\":\"/zh/guide/mermaid\"},{\"text\":\"Tailwind\",\"link\":\"/zh/guide/tailwind\"},{\"text\":\"Legacy 构建与 iOS 正则兼容\",\"link\":\"/zh/guide/legacy-builds\"},{\"text\":\"致谢\",\"link\":\"/zh/guide/thanks\"},{\"text\":\"研究与调查\",\"items\":[{\"text\":\"e2e 测试与分析\",\"link\":\"/zh/guide/e2e-testing-report\"},{\"text\":\"KaTeX Worker 性能\",\"link\":\"/zh/guide/katex-worker-performance-analysis\"},{\"text\":\"Monorepo 迁移\",\"link\":\"/zh/guide/monorepo-migration\"}]}]}],\"/\":[{\"text\":\"User Guide\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/\"},{\"text\":\"Installation\",\"link\":\"/guide/installation\"},{\"text\":\"Quick Start\",\"link\":\"/guide/quick-start\"},{\"text\":\"Why use it?\",\"link\":\"/guide/why\"},{\"text\":\"Compared\",\"link\":\"/guide/compared\"},{\"text\":\"Usage & API\",\"link\":\"/guide/usage\"},{\"text\":\"Parser & API\",\"link\":\"/guide/parser\"},{\"text\":\"Parser API (deep-dive)\",\"link\":\"/guide/parser-api\"},{\"text\":\"Features\",\"link\":\"/guide/features\"},{\"text\":\"Props & Options\",\"link\":\"/guide/props\"},{\"text\":\"Code block header\",\"link\":\"/guide/codeblock-header\"},{\"text\":\"Examples\",\"link\":\"/guide/examples\"},{\"text\":\"Playground\",\"link\":\"/guide/playground\"},{\"text\":\"Docs assets\",\"link\":\"/guide/docs-style\"},{\"text\":\"Contributing\",\"link\":\"/guide/contributing\"},{\"text\":\"Translation guide\",\"link\":\"/guide/translation\"},{\"text\":\"Deploy docs\",\"link\":\"/guide/deploy\"},{\"text\":\"API Reference\",\"link\":\"/guide/components\"},{\"text\":\"Advanced\",\"link\":\"/guide/advanced\"},{\"text\":\"Monaco Internals\",\"link\":\"/guide/monaco-internals\"},{\"text\":\"Math\",\"link\":\"/guide/math\"},{\"text\":\"Mermaid\",\"link\":\"/guide/mermaid\"},{\"text\":\"Tailwind\",\"link\":\"/guide/tailwind\"},{\"text\":\"Legacy builds & iOS regex compatibility\",\"link\":\"/guide/legacy-builds\"},{\"text\":\"Thanks\",\"link\":\"/guide/thanks\"}]},{\"text\":\"Nuxt SSR\",\"link\":\"/nuxt-ssr\"},{\"text\":\"Nuxt SSR\",\"link\":\"/zh/nuxt-ssr\"},{\"text\":\"Performance\",\"link\":\"/guide/performance\"},{\"text\":\"Monaco\",\"link\":\"/guide/monaco\"},{\"text\":\"Troubleshooting\",\"link\":\"/guide/troubleshooting\"},{\"text\":\"Investigations\",\"items\":[{\"text\":\"e2e testing report\",\"link\":\"/e2e-testing-report\"},{\"text\":\"KaTeX worker performance\",\"link\":\"/katex-worker-performance-analysis\"},{\"text\":\"Monorepo migration\",\"link\":\"/monorepo-migration\"}]}]},\"locales\":{\"/\":{\"selectText\":\"Languages\",\"label\":\"English\",\"ariaLabel\":\"Select language\",\"nav\":[{\"text\":\"Get started\",\"link\":\"/guide/quick-start\"},{\"text\":\"Examples\",\"link\":\"/guide/examples\"},{\"text\":\"API\",\"link\":\"/guide/components\"},{\"text\":\"Playground\",\"link\":\"https://markstream-vue.simonhe.me/\"},{\"text\":\"Search\",\"link\":\"/guide/search\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/Simon-He95/markstream-vue\"}]},\"/zh/\":{\"selectText\":\"选择语言\",\"label\":\"简体中文\",\"ariaLabel\":\"选择语言\",\"nav\":[{\"text\":\"快速开始\",\"link\":\"/zh/guide/quick-start\"},{\"text\":\"示例\",\"link\":\"/zh/guide/examples\"},{\"text\":\"API\",\"link\":\"/zh/guide/components\"},{\"text\":\"演示\",\"link\":\"https://markstream-vue.simonhe.me/\"},{\"text\":\"搜索\",\"link\":\"/zh/guide/search\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/Simon-He95/markstream-vue\"}]}}},\"locales\":{\"/\":{\"lang\":\"en-US\",\"title\":\"markstream-vue\",\"description\":\"Streaming-friendly Markdown renderer for Vue 3\"},\"/zh/\":{\"lang\":\"zh-CN\",\"title\":\"markstream-vue\",\"description\":\"适用于 Vue 3 的流式 Markdown 渲染器\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>